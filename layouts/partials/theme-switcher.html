{{- if site.Params.showThemeSwitch | default true -}}
<!-- 主题风格切换按钮 -->
<div class="relative">
  <button
    id="color-scheme-toggle"
    class="dropdown-toggle border-border bg-background text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 flex h-10 w-10 items-center justify-center rounded-lg border transition-all duration-300 ease-out hover:scale-105 focus:ring-2 focus:outline-none active:scale-95"
    data-dropdown-type="color-scheme"
    aria-label="{{ i18n "theme.toggle" }}">
    {{ partial "icon.html" (dict "name" "palette" "class" "relative z-10" "size" "md" "ariaLabel" (i18n "theme.toggle")) }}
  </button>

  <!-- 主题风格选择下拉菜单 -->
  <div
    id="color-scheme-dropdown"
    class="dropdown-menu border-border bg-popover/95 absolute top-12 right-0 z-[60] hidden w-44 rounded-lg border p-1 shadow-lg backdrop-blur-sm transition-all duration-200 ease-out"
    data-dropdown-type="color-scheme">
    {{ $themes := site.Params.themes }}
    {{ $sortedThemes := slice }}
    {{ range $key, $theme := $themes }}
      {{ $sortedThemes = $sortedThemes | append (dict "key" $key "theme" $theme) }}
    {{ end }}
    {{ $sortedThemes = sort $sortedThemes "theme.order" }}
    {{ range $sortedThemes }}
      <button
        data-color-scheme="{{ .key }}"
        class="text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none">
        <span>{{ .theme.name }}</span>
      </button>
    {{ end }}
  </div>
</div>
{{- end -}}

{{/*
  文章元信息组件
  
  显示文章标题、发布时间、阅读时间、标签、分类等信息
  
  @context {page} . 当前文章页面对象
*/}}

<div class="post-meta">
  
  <!-- 文章标题 -->
  <h1 class="text-3xl md:text-4xl font-bold text-foreground mb-6 leading-tight">
    {{ .Title }}
  </h1>
  
  <!-- 文章摘要 -->
  {{ if .Params.summary }}
    <div class="text-lg text-muted-foreground mb-6 leading-relaxed">
      {{ .Params.summary | plainify }}
    </div>
  {{ end }}
  
  <!-- 元信息区域 -->
  <div class="flex flex-col gap-4 p-6 bg-card border border-border rounded-xl">
    
    <!-- 发布时间和阅读时间 -->
    <div class="flex flex-wrap items-center gap-4 text-sm text-muted-foreground">
      
      <!-- 发布时间 -->
      <div class="flex items-center gap-2">
        {{ partial "icon.html" (dict "name" "calendar" "size" "sm" "ariaLabel" (i18n "post.published_on")) }}
        <time datetime="{{ .Date.Format "2006-01-02" }}">
          {{ .Date.Format (i18n "time.date_format" | default "2006年01月02日") }}
        </time>
      </div>

      <!-- 更新时间 -->
      {{ if ne .Date .Lastmod }}
        <div class="flex items-center gap-2">
          {{ partial "icon.html" (dict "name" "edit" "size" "sm" "ariaLabel" (i18n "post.updated_on")) }}
          <time datetime="{{ .Lastmod.Format "2006-01-02" }}">
            {{ i18n "post.updated_on" | default "更新于" }} {{ .Lastmod.Format (i18n "time.date_format" | default "2006年01月02日") }}
          </time>
        </div>
      {{ end }}
      
      <!-- 阅读时间 -->
      {{ if .ReadingTime }}
        <div class="flex items-center gap-2">
          {{ partial "icon.html" (dict "name" "clock" "size" "sm" "ariaLabel" (i18n "post.reading_time")) }}
          <span>{{ .ReadingTime }} {{ i18n "time.minute" | default "分钟" }}</span>
        </div>
      {{ end }}
      
      <!-- 字数统计 -->
      {{ if .WordCount }}
        <div class="flex items-center gap-2">
          {{ partial "icon.html" (dict "name" "text" "size" "sm" "ariaLabel" "字数统计") }}
          <span>{{ .WordCount }} {{ i18n "post.words" | default "字" }}</span>
        </div>
      {{ end }}
      
    </div>
    
    <!-- 分类和标签 -->
    {{ if or .Params.categories .Params.tags }}
      <div class="flex flex-wrap items-center gap-4">
        
        <!-- 分类 -->
        {{ if .Params.categories }}
          <div class="flex items-center gap-2">
            {{ partial "icon.html" (dict "name" "folder" "size" "sm" "ariaLabel" (i18n "post.categories")) }}
            <span class="text-sm text-muted-foreground mr-2">{{ i18n "post.categories" | default "分类" }}:</span>
            <div class="flex flex-wrap gap-2">
              {{ range .Params.categories }}
                <a
                  href="{{ "/categories/" | relURL }}{{ . | urlize }}/"
                  class="inline-flex items-center px-3 py-1 rounded-full bg-primary/10 text-primary
                  hover:bg-primary/20 hover:-translate-y-0.5 hover:scale-105 hover:shadow-md
                  transition-all duration-200 ease-out text-sm font-medium
                  focus:outline-none focus:ring-2 focus:ring-primary/20">
                  {{ . }}
                </a>
              {{ end }}
            </div>
          </div>
        {{ end }}
        
        <!-- 标签 -->
        {{ if .Params.tags }}
          <div class="flex items-center gap-2">
            {{ partial "icon.html" (dict "name" "tag" "size" "sm" "ariaLabel" (i18n "post.tags")) }}
            <span class="text-sm text-muted-foreground mr-2">{{ i18n "post.tags" | default "标签" }}:</span>
            <div class="flex flex-wrap gap-2">
              {{ range .Params.tags }}
                <a
                  href="{{ "/tags/" | relURL }}{{ . | urlize }}/"
                  class="inline-flex items-center px-2 py-1 rounded bg-muted/50 text-muted-foreground
                  hover:bg-primary/10 hover:text-primary hover:-translate-y-0.5 hover:scale-105
                  transition-all duration-200 ease-out text-sm
                  focus:outline-none focus:ring-2 focus:ring-primary/20">
                  #{{ . }}
                </a>
              {{ end }}
            </div>
          </div>
        {{ end }}
        
      </div>
    {{ end }}
    
    <!-- 作者信息 -->
    {{ if .Params.author }}
      <div class="flex items-center gap-2 pt-2 border-t border-border">
        {{ partial "icon.html" (dict "name" "user" "size" "sm" "ariaLabel" (i18n "post.author")) }}
        <span class="text-sm text-muted-foreground">{{ i18n "post.author" | default "作者" }}:</span>
        <span class="text-sm font-medium text-foreground">{{ .Params.author }}</span>
      </div>
    {{ end }}
    
  </div>
  
</div>

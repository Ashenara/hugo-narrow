{{ define "main" }}
  <div class="mx-auto max-w-4xl px-4 py-6">
    
    <!-- 面包屑导航 -->
    {{ partial "breadcrumb.html" . }}
    
    <!-- 页面标题和描述 -->
    <header class="mb-8">
      <h1 class="text-3xl font-bold text-foreground mb-4">
        {{ if eq .Section "posts" }}
          {{ i18n "nav.posts" | default "文章" }}
        {{ else if eq .Section "archives" }}
          {{ i18n "nav.archives" | default "归档" }}
        {{ else if eq .Section "tags" }}
          {{ i18n "nav.tags" | default "标签" }}
        {{ else if eq .Section "categories" }}
          {{ i18n "nav.categories" | default "分类" }}
        {{ else }}
          {{ .Title }}
        {{ end }}
      </h1>
      
      {{ if .Content }}
        <div class="prose prose-neutral dark:prose-invert max-w-none">
          {{ .Content }}
        </div>
      {{ else if eq .Section "posts" }}
        <p class="text-muted-foreground">
          {{ i18n "post.list_desc" | default "这里是所有已发布的文章，按时间倒序排列。" }}
        </p>
      {{ end }}
      
      <!-- 文章统计信息 -->
      {{ if eq .Section "posts" }}
        <div class="flex items-center gap-4 mt-4 text-sm text-muted-foreground">
          <div class="flex items-center gap-1">
            {{ partial "icon.html" (dict "name" "folder" "size" "sm" "ariaLabel" "") }}
            <span>{{ i18n "post.total_posts" (dict "count" .Paginator.TotalNumberOfElements) | default (printf "共 %d 篇文章" .Paginator.TotalNumberOfElements) }}</span>
          </div>
          {{ if gt .Paginator.TotalPages 1 }}
            <div class="flex items-center gap-1">
              {{ partial "icon.html" (dict "name" "layers" "size" "sm" "ariaLabel" "") }}
              <span>{{ i18n "nav.total_pages" (dict "count" .Paginator.TotalPages) | default (printf "共 %d 页" .Paginator.TotalPages) }}</span>
            </div>
          {{ end }}
        </div>
      {{ end }}
    </header>
    
    <!-- 文章列表 -->
    {{ $posts := .Paginator.Pages }}
    {{ if $posts }}
      {{ partial "post-list.html" (dict "posts" $posts) }}
    {{ else }}
      <!-- 空状态 -->
      <div class="text-center py-16">
        <div class="w-20 h-20 mx-auto mb-6 rounded-full bg-muted/50 flex items-center justify-center">
          {{ partial "icon.html" (dict "name" "folder" "size" "xl" "ariaLabel" "") }}
        </div>
        <h2 class="text-xl font-medium text-foreground mb-3">{{ i18n "post.no_posts" | default "暂无文章" }}</h2>
        <p class="text-muted-foreground mb-6">{{ i18n "post.no_posts_desc" | default "还没有发布任何文章，请稍后再来查看。" }}</p>
        <a 
          href="{{ "/" | relURL }}" 
          class="inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-xl hover:bg-primary/90 transition-colors duration-300 font-medium">
          {{ partial "icon.html" (dict "name" "home" "size" "sm" "ariaLabel" "") }}
          <span>{{ i18n "nav.back_home" | default "返回首页" }}</span>
        </a>
      </div>
    {{ end }}
    
    <!-- 分页导航 -->
    {{ partial "pagination.html" . }}
    
  </div>
{{ end }}
